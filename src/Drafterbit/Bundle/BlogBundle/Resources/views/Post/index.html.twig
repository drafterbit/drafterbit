{% extends "DrafterbitSystemBundle::base_index.html.twig" %}

{% block stylesheets %}
	{{parent()}}
	<link rel="stylesheet" href="{{ asset('@DrafterbitBlogBundle/css/index.css') }}"/>
{% endblock %}

{% block filter %}
<div style="display:inline-block; float:right;margin-left:5px;">
    <select name="filter" class="form-control input-sm post-status-filter">
        <option value="all" >- {{ __('Status') }}</option>
        <option value="published" >{{ __('Published') }}</option>
        <option value="pending" > {{ __('Pending Review') }}</option>
        <option value="trashed" > {{ __('Trashed') }}</option>
    </select>
</div>
{% endblock %}

{% block action %}
    {% if is_granted('ROLE_POST_CREATE') %}
    <a href="{{ url('drafterbit_blog_post_edit', {id:"new"}) }}" class="btn btn-success btn-sm">
        <i class="fa fa-plus" style=""></i> {{ __('New Post') }}
    </a>
    {% endif %}

    {% if is_granted('ROLE_POST_DELETE') %}
    <button class="btn btn-default btn-sm uncreate-action" type="submit" name="action" value="trash">
        <i class="fa fa-trash-o"></i> {{ __('Trash') }}
    </button>
    {% endif %}
{% endblock %}

{% block table %}
    <table class="table table-hover table-condensed" id="{{ view_id }}-data-table">
        <thead>
            <tr>
                <th class="sorting" width="15">
                    <input id="{{ view_id }}-checkall" type="checkbox">
                </th>
                <th width="60%">{{ __('Title') }}</th>
                <th width="20%">{{ __('Author') }}</th>
                <th width="20%">{{ __('Last Modified') }}</th>
            </tr>
        </thead>
    </table>
{% endblock %}

{% block javascripts %}
	{{parent()}}
	<script type="text/javascript" src="{{ asset('@DrafterbitBlogBundle/js/index.js') }}"></script>
    <script type="text/javascript">
        drafTerbit.blog.post.handleIndexForm('#post-index-form');
        drafTerbit.blog.post.handleIndexTable('#post-data-table', '#post-checkall');
        drafTerbit.blog.post.handleFilter('.post-status-filter');
    </script>
{% endblock %}