{% extends "DrafterbitSystemBundle::base_edit.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets '@DrafterbitSystemBundle/Resources/public/css/setting/general.css' %}
    <link rel="stylesheet" type="text/css" href="{{ asset_url }}">
    {% endstylesheets %}
{% endblock %}

{% block action %}
    {{ form_widget(form.Save, {label: __("Save Setting"), attr:{class:"btn btn-sm btn-success"}}) }}
{% endblock %}

{% block form %}
<div class="row">
    <div class="col-md-3">
        <ul class="nav nav-stacked nav-stacked-left" role="tablist">
            {% for name in field_names %}
                <li role="presentation"><a href="#setting-{{ name }}" aria-controls="setting-{{ name }}" role="tab" data-toggle="tab">{{ name|capitalize }}</a></li>
            {% endfor %}
        </ul>
    </div>
    <div class="col-md-9 tab-content">
        {% for field in form %}
            {% if field.vars.name not in ['Save', '_token'] %}
            <div role="tabpanel" class="tab-pane" id="setting-{{ field.vars.name }}">
                {% for f in field %}
                    <div class="form-group col-md-6">
                        {{ form_label(f) }}
                        {# Render widget #}
                        {% if 'choice' in f.vars.block_prefixes %}
                            {% if f.vars.expanded %}
                                <div>
                                {% for f_w in f %}
                                    <label class="checkbox-inline">
                                        {{ form_widget(f_w) }} {{ __(f_w.vars.label) }}
                                    </label>
                                {% endfor %}
                                </div>
                            {% else %}
                                {{ form_widget(f, {attr: {class:"form-control"}}) }}
                            {% endif %}
                        {% else %}
                            {{ form_widget(f, {attr: {class:"form-control"}}) }}
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}
    
{% block javascripts %}
    {{ parent() }}
    {% javascripts '@DrafterbitSystemBundle/Resources/public/js/setting/general.js' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

    {% if message %}
        <script type="text/javascript">
        {% autoescape 'js' %}
        $.notify('{{ message.text }}', '{{ message.status }}');
        {% endautoescape %}
        </script>
    {% endif %}
{% endblock %}